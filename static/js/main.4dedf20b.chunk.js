(this["webpackJsonpbikeio-fe"]=this["webpackJsonpbikeio-fe"]||[]).push([[0],{125:function(e){e.exports=JSON.parse('{"path.home":"Bikee!","path.register.title":"Register your bikes","path.search.title":"Search for bike owner","path.report.title":"Report suspicious bikes","register.title":"Register your bikes","register.first_name":"John","register.first_name.title":"First Name","register.first_name.required":"First Name Required","register.last_name":"Doe","register.last_name.title":"Last Name","register.last_name.required":"Last Name Required","register.phone.title":"Phone Number","register.phone":"0501234567","register.phone.required":"Phone required","register.phone.invalid":"Phone number invalid","register.secondary_phone.title":"Secondary Phone Number","register.secondary_phone.placeholder":"0501234567","register.secondary_phone.invalid":"Phone number invalid","register.city.title":"City","register.city.placeholder":"Tel-Aviv","register.city.required":"Required","register.bike_id.title":"Bike serial number","register.bike_id.placeholder":"A1234C","register.bike_id.required":"Required","register.brand.title":"Brand","register.brand.placeholder":"Trek","register.brand.required":"Required","register.color.title":"Color","register.color.placeholder":"Green","register.color.required":"Required","register.terms.title":"Accept terms","register.terms.required":"Required","dropzone.helper":"Drop files here or click to open your finder","button.submit":"Submit","result.firstName":"First Name","result.lastName":"Last Name","result.brand":"Brand","result.color":"Color","result.bike_id":"Serial Number","result.phone":"Phone number","result.secondaryPhone":"Secondary Phone Number","button.search":"Search"}')},126:function(e){e.exports=JSON.parse('{"path.home":"\u05de\u05d7\u05d6\u05d9\u05e8\u05d9\u05dd \u05d0\u05ea \u05d4\u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd!","path.register.title":"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd \u05dc\u05de\u05d0\u05d2\u05e8","path.search.title":"\u05d7\u05e4\u05e9 \u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd","path.report.title":"\u05d3\u05d5\u05d5\u05d7 \u05e2\u05dc \u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd \u05d7\u05e9\u05d5\u05d3\u05d5\u05ea","register.title":"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd \u05dc\u05de\u05d0\u05d2\u05e8","register.first_name":"\u05d0\u05d1\u05d9","register.first_name.title":"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","register.first_name.required":"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","register.last_name":"\u05dc\u05d5\u05d9","register.last_name.title":"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","register.last_name.required":"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","register.phone.title":"\u05de\u05e1\u05f3 \u05d8\u05dc\u05e4\u05d5\u05df","register.phone":"0501234567","register.phone.required":"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","register.phone.invalid":"\u05e9\u05d3\u05d4 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df","register.secondary_phone.title":"\u05de\u05e1\u05f3 \u05d8\u05dc\u05e4\u05d5\u05df \u05de\u05e9\u05e0\u05d9","register.secondary_phone.placeholder":"0501234567","register.secondary_phone.invalid":"\u05e9\u05d3\u05d4 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df","register.city.title":"\u05e2\u05d9\u05e8 \u05de\u05d2\u05d5\u05e8\u05d9\u05dd","register.city.placeholder":"Tel-Aviv","register.city.required":"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","register.bike_id.title":"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d9\u05dc\u05d3\u05d4","register.bike_id.placeholder":"A1234C","register.bike_id.required":"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","register.brand.title":"\u05d3\u05d2\u05dd","register.brand.placeholder":"Trek","register.brand.required":"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","register.color.title":"\u05e6\u05d1\u05e2","register.color.placeholder":"Green","register.color.required":"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","register.terms.title":"\u05d0\u05e9\u05e8 \u05ea\u05e0\u05d0\u05d9 \u05e9\u05d9\u05de\u05d5\u05e9","register.terms.required":"Required","dropzone.helper":"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05de\u05d6\u05d4\u05d9\u05dd \u05db\u05d3\u05d9 \u05dc\u05d5\u05d5\u05d3\u05d0 \u05e9\u05d0\u05ea\u05d4 \u05d1\u05e2\u05dc \u05d4\u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd","result.firstName":"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","result.lastName":"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","result.brand":"\u05d3\u05d2\u05dd","result.color":"\u05e6\u05d1\u05e2","result.bike_id":"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d9\u05dc\u05d3\u05d4","result.phone":"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df","result.secondaryPhone":"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05de\u05e9\u05e0\u05d9","button.submit":"\u05d4\u05d5\u05e1\u05e3","button.search":"\u05d7\u05e4\u05e9"}')},144:function(e,r,t){},145:function(e,r,t){},164:function(e,r,t){},190:function(e,r,t){"use strict";t.r(r);var n=t(0),i=t(14),a=t.n(i),s=(t(144),t(145),t(238)),c=t(11),o=t.n(c),l=t(34),u=t(18),d=t(17),b=t(99),p=t(42),h=t(15),j=t(120),m=t.n(j),g=t(5),f=function(e){var r=e.onFileChanged,t=e.files,i=void 0===t?[]:t,a=Object(n.useState)([]),s=Object(d.a)(a,2),c=s[0],o=s[1],u=Object(p.a)();return Object(g.jsx)(m.a,{multiple:!0,maxSize:"2mb",multipleMaxSize:"10mb",multipleMaxCount:4,accept:["application/pdf","image/jpg","image/jpeg","image/png"],onSuccess:function(e){r([].concat(Object(h.a)(i),Object(h.a)(e)))},onError:o,children:function(e){var r=e.browseFiles,t=e.getDropZoneProps;e.getLabelProps;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",Object(l.a)(Object(l.a)({},t({className:"myDropZone"})),{},{onClick:r,children:Object(g.jsx)("span",{children:u({id:"dropzone.helper"})})})),Object(g.jsxs)("ol",{children:[i.map((function(e){return Object(g.jsx)("li",{children:e.name},e.name)})),c.map((function(e){return Object(g.jsxs)("li",{children:[e.file.name," - ",e.type]},e.file.name)}))]})]})}})},O=(t(164),"https://bikeeio.herokuapp.com/bikeapi"),x="6Lf2enQaAAAAANrscy5B6c7uY5ZQNa87gUfq3vgN";console.log("API: ",O);var v=function(){var e=Object(u.a)(o.a.mark((function e(r){var t,n,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,window.grecaptcha.execute(x,{action:r.replace(O,"")});case 4:return n=e.sent,e.next=7,fetch(r,Object(l.a)(Object(l.a)({},t),{},{headers:Object(l.a)(Object(l.a)({},t.headers||{}),{},{"x-token":n})}));case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://bikeeio.herokuapp.com/bikeapi/wakeup",{});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(r){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("file",r.src.file),e.next=5,v("https://bikeeio.herokuapp.com/bikeapi/files",{method:"POST",body:t});case 5:return n=e.sent,e.abrupt("return",n.json());case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map((function(e){return y(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(o.a.mark((function e(r){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("https://bikeeio.herokuapp.com/bikeapi/bike",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bikeDetails:r})});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(o.a.mark((function e(r){var t,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("https://bikeeio.herokuapp.com/bikeapi/bike"+"/".concat(r));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,i=n.result.bike,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),w=t(236),S=t(224),C=t(227),P=function(e){var r=e.control,t=e.errors,n=e.t,i=e.name,a=e.label,s=e.rules;return Object(g.jsx)(S.a,{fullWidth:!0,variant:"outlined",className:"formField",children:Object(g.jsx)(b.a,{name:i,as:Object(g.jsx)(w.a,{id:i,helperText:t[i]?t[i].message:null,label:n({id:a}),error:!!t[i]}),control:r,defaultValue:"",rules:s})})},F=Object(s.d)((function(e){var r=e.history,t=Object(b.b)({defaultValues:{}}),i=(t.register,t.handleSubmit),a=t.errors,s=(t.reset,t.formState),c=t.setError,h=t.control,j=(s.isDirty,s.isSubmitting),m=Object(n.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1],k=Object(n.useState)(null),y=Object(d.a)(k,2),N=y[0],w=y[1],S=Object(p.a)();Object(n.useEffect)((function(e){console.log(a)}),[a]);var F=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,i,a,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=N){e.next=6;break}return e.next=4,q(x);case 4:n=e.sent,w(n);case 6:return i=n.map((function(e){return e.file})),console.log("imhere"),e.next=10,_(Object(l.a)({assets:i},t));case 10:a=e.sent,s=a.result,(u=a.error)&&Object.entries(u).forEach((function(e){var r=Object(d.a)(e,2),t=r[0],n=r[1];c(t,{type:"server",message:n})})),s&&r.push("/success");case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(g.jsx)("form",{onSubmit:i(F),children:Object(g.jsxs)("div",{className:"formFields",children:[P({control:h,errors:a,t:S,name:"firstName",label:"register.first_name.title",rules:{required:S({id:"register.first_name.required"})}}),P({control:h,errors:a,t:S,name:"lastName",label:"register.last_name.title",rules:{required:S({id:"register.last_name.required"})}}),P({control:h,errors:a,t:S,name:"phone",label:"register.phone.title",rules:{required:S({id:"register.phone.required"}),pattern:{value:/^\d+$/i,message:S({id:"register.phone.invalid"})}}}),P({control:h,errors:a,t:S,name:"secondary_phone",label:"register.secondary_phone.title",rules:{pattern:{value:/^\d*$/i,message:S({id:"register.secondary_phone.invalid"})}}}),P({control:h,errors:a,t:S,name:"bike_id",label:"register.bike_id.title",rules:{required:S({id:"register.bike_id.required"})}}),P({control:h,errors:a,t:S,name:"city",label:"register.city.title",rules:{required:S({id:"register.city.required"})}}),P({control:h,errors:a,t:S,name:"brand",label:"register.brand.title",rules:{required:S({id:"register.brand.required"})}}),P({control:h,errors:a,t:S,name:"color",label:"register.color.title",rules:{required:S({id:"register.color.required"})}}),Object(g.jsx)("div",{children:Object(g.jsx)(f,{files:x,onFileChanged:v})}),Object(g.jsx)("div",{className:"spacer"}),Object(g.jsx)("div",{children:Object(g.jsx)(C.a,{variant:"contained",fullWidth:!0,color:"primary",disabled:j,type:"submit",children:S({id:"button.submit"})})})]})})})),R=t(82),T=t.n(R),A=t(228),B=t(94),D=t.n(B),L=T()((function(e){return{root:{margin:e.spacing(2)},searchRoot:{height:"30%",display:"flex",flexDirection:"column"},searchInput:{margin:e.spacing(2)},searchButton:{},bikesRoot:{display:"flex",flexDirection:"column"},buttonProgress:{color:D.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},searchContainer:{width:"50%",margin:"auto",position:"relative"}}})),J=function(e){var r=L(),t=Object(p.a)(),i=Object(n.useState)(""),a=Object(d.a)(i,2),s=a[0],c=a[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),h=b[0],j=b[1],m=Object(n.useState)(null),f=Object(d.a)(m,2),O=f[0],x=f[1],v=Object(n.useState)(null),k=Object(d.a)(v,2),y=k[0],q=k[1],_=function(){var e=Object(u.a)(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),q(null),x(null),e.next=5,N(s);case 5:r=e.sent,setTimeout((function(){r||q("Cant find bike with serial: ".concat(s)),x(r),j(!1)}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:r.root,children:[Object(g.jsxs)("div",{className:r.searchRoot,children:[Object(g.jsx)(w.a,{className:r.searchInput,label:t({id:"register.bike_id.title"}),error:!!y,helperText:y,onChange:function(e){return c(e.target.value)},value:s}),Object(g.jsxs)("div",{className:r.searchContainer,children:[Object(g.jsx)(C.a,{className:r.searchButton,variant:"contained",fullWidth:!0,color:"primary",disabled:h,onClick:_,children:t({id:"button.search"})}),h&&Object(g.jsx)(A.a,{size:24,className:r.buttonProgress})]})]}),O&&Object(g.jsx)("div",{className:r.bikesRoot,children:Object.entries(O).map((function(e){var r=Object(d.a)(e,2),n=r[0],i=r[1];return Object(g.jsxs)("div",{children:[t({id:"result.".concat(n)}),": ",i]},n)}))})]})},z=t(229),E=t(230),G=t(231),I=t(121),W=t.n(I),Z=t(85),M=t(240),Q=t(226),V=t(232),$=t(233),K=t(122),U=t.n(K),Y=t(234),H=t(123),X=t.n(H),ee=t(124),re=t.n(ee),te=T()((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},list:{width:250}}})),ne={"/register":"path.register.title","/search":"path.search.title"},ie=Object(s.d)((function(e){var r=e.history,t=e.location,i=Object(p.a)(),a=te(),s=Object(n.useState)(!1),c=Object(d.a)(s,2),o=c[0],l=c[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(z.a,{position:"static",children:Object(g.jsxs)(E.a,{children:[Object(g.jsx)(G.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return l(!0)},children:Object(g.jsx)(W.a,{})}),Object(g.jsx)(Z.a,{variant:"h6",className:a.title,children:i({id:ne[t.pathname]||"path.home"})})]})}),Object(g.jsx)(M.a,{anchor:"left",open:o,children:Object(g.jsx)("div",{className:a.list,role:"presentation",onClick:function(){return l(!1)},onKeyDown:function(){return l(!1)},children:Object(g.jsxs)(Q.a,{children:[Object(g.jsxs)(V.a,{button:!0,onClick:function(){return r.push("/search")},children:[Object(g.jsx)($.a,{children:Object(g.jsx)(U.a,{})}),Object(g.jsx)(Y.a,{primary:i({id:"path.search.title"})})]},"search"),Object(g.jsxs)(V.a,{button:!0,onClick:function(){return r.push("/register")},children:[Object(g.jsx)($.a,{children:Object(g.jsx)(X.a,{})}),Object(g.jsx)(Y.a,{primary:i({id:"path.register.title"})})]},"register"),Object(g.jsxs)(V.a,{button:!0,children:[Object(g.jsx)($.a,{children:Object(g.jsx)(re.a,{})}),Object(g.jsx)(Y.a,{primary:i({id:"path.report.title"})})]},"report")]})})})]})})),ae=function(){return Object(g.jsx)("div",{children:"Good Job"})};var se=function(){return k().then((function(){})),Object(g.jsx)("div",{children:Object(g.jsx)(s.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(ie,{}),Object(g.jsxs)(s.c,{children:[Object(g.jsx)(s.b,{path:"/success",component:ae}),Object(g.jsx)(s.b,{path:"/register",component:F}),Object(g.jsx)(s.b,{path:"/search",component:J}),Object(g.jsx)(s.b,{component:F})]})]})})})},ce=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,242)).then((function(r){var t=r.getCLS,n=r.getFID,i=r.getFCP,a=r.getLCP,s=r.getTTFB;t(e),n(e),i(e),a(e),s(e)}))},oe=t(237),le=t(125),ue=t(126),de=t(235),be={en:le,he:ue},pe=navigator.language.split(/[-_]/)[0];a.a.render(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(de.a,{}),Object(g.jsx)(oe.a,{locale:"en",messages:be[pe],defaultLocale:"en",children:Object(g.jsx)(se,{})})]}),document.getElementById("root")),ce()}},[[190,1,2]]]);